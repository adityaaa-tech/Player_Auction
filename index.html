<!DOCTYPE html>
<html lang="en">
    
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Sports Hub - Auction</title>
<style>
body, html {margin:0; padding:0; font-family:'Segoe UI',sans-serif; height:100%; background: linear-gradient(to bottom,#0ff,#000); color:#fff;}
.container {max-width:900px; margin:auto; padding:20px;}
h1,h2{text-align:center; text-shadow:2px 2px #000;}
input,select,button{padding:10px; margin:10px 0; border-radius:8px; border:none; font-size:16px;}
button{cursor:pointer; background: cyan; color:black; font-weight:bold; transition:0.3s;}
button:hover{background:#00bcd4;color:white;}
.screen{display:none;}
.active{display:block;}
.player-list{margin-top:20px;}
.player-card{display:flex;align-items:center;background: rgba(0,0,0,0.5);border-radius:10px;margin:10px 0;padding:10px;}
.player-card img{width:50px;height:50px;border-radius:50%;margin-right:15px;object-fit:cover;}
.sold{opacity:0.5;text-decoration:line-through;}
.owners-panel{display:flex; flex-wrap:wrap; gap:15px; justify-content:center; margin-top:20px;}
.owner-card{background: rgba(0,0,0,0.7); padding:15px; border-radius:12px; text-align:center; width:150px; box-shadow:0 0 10px #0ff; position:relative;}
.sold-popup{position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#4caf50; color:white; padding:30px 50px; border-radius:15px; display:none; z-index:10; font-size:22px; text-align:center; box-shadow:0 0 20px #0ff;}
.unsold-btn{margin-top:20px; padding:10px 20px; background:#f44336; color:white; font-weight:bold; border-radius:8px;}
.unsold-btn:hover{background:#d32f2f;}
body::before{content:""; position:fixed; top:0; left:0; width:100%; height:100%; background:url('https://i.ibb.co/0VG0kJ5/stadium.jpg') no-repeat center center/cover; opacity:0.2; z-index:-1;}
.owner-auction-card{background: rgba(0,0,0,0.8); padding:15px; border-radius:12px; margin:10px 0; display:flex; justify-content:space-between; align-items:center;}
</style>
</head>
<body>
<div class="container">

    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="screen active">
        <h1>Welcome to The Sports Hub</h1>
        <h2>Please select your role:</h2>
        <select id="roleSelect">
            <option value="">-- Select Role --</option>
            <option value="host">Host</option>
            <option value="owner">Owner</option>
            <option value="spectator">Spectator</option>
        </select>
        <button onclick="chooseRole()">Continue</button>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
        <h2 id="loginTitle">Login</h2>
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <button onclick="loginUser()">Login</button>
    </div>

    <!-- Owner Registration Screen -->
    <div id="ownerRegisterScreen" class="screen">
        <h2>Owner Registration</h2>
        <input type="text" id="ownerTeamName" placeholder="Team Name">
        <input type="number" id="ownerBudget" placeholder="Total Budget">
        <select id="ownerTournamentSelect">
            <option value="World Cup">World Cup</option>
        </select>
        <button onclick="registerOwner()">Register</button>
    </div>

    <!-- Add Tournament Screen (Host only) -->
    <div id="tournamentScreen" class="screen">
        <h2>Add Tournament</h2>
        <input type="text" id="tournamentName" placeholder="Tournament Name">
        <input type="number" id="totalTeams" placeholder="Total Teams/Owners">
        <button onclick="saveTournament()">Done</button>
    </div>

    <!-- Add Players Screen (Host) -->
    <div id="addPlayersScreen" class="screen">
        <h2>Add Players</h2>
        <input type="text" id="playerName" placeholder="Player Name">
        <input type="file" id="playerImageFile" accept="image/*">
        <input type="number" id="playerAge" placeholder="Player Age (Optional)">
        <input type="text" id="playerRole" placeholder="Player Role (Optional)">
        <input type="number" id="playerBasePrice" placeholder="Base Price (Optional)">
        <button onclick="addPlayer()">Add Player</button>
        <h3>Players Added:</h3>
        <div id="playerList" class="player-list"></div>
        <button onclick="goToAnnounce()">Go to Announce Player</button>
    </div>

    <!-- Announce Player Screen (Host) -->
    <div id="announceScreen" class="screen">
        <h2>Announce Player</h2>
        <select id="playerDropdown"></select>
        <button onclick="announcePlayer()">Announce</button>
        <h3>Players:</h3>
        <div id="announcedPlayers" class="player-list"></div>
    </div>

    <!-- Owner Auction Screen -->
    <div id="ownerAuctionScreen" class="screen">
        <h2>Live Auction</h2>
        <div id="auctionPlayerInfo"></div>
        <div id="ownerBidSection"></div>
    </div>

    <!-- Owner Panel Screen (Host) -->
    <div id="ownerScreen" class="screen">
        <h2>Owners Panel</h2>
        <div class="owners-panel" id="ownersPanel"></div>
        <button class="unsold-btn" onclick="markUnsold()">Mark Unsold</button>
    </div>

</div>

<div id="soldPopup" class="sold-popup">Sold!</div>

<script>
// ===== Global Variables =====
let role='';
let players=[];
let announcedPlayers=[];
let owners=[];
let ownerList=[];
let tournamentName='World Cup';
let totalOwners=0;
let currentPlayer=null;
let currentBid=0;

// ===== Role Selection =====
function chooseRole(){
    const select=document.getElementById('roleSelect');
    role=select.value;
    if(!role){alert('Please select a role'); return;}
    showScreen('loginScreen');
    document.getElementById('loginTitle').textContent=`Login as ${role.charAt(0).toUpperCase()+role.slice(1)}`;
}

// ===== Login =====
function loginUser(){
    if(role==='host'){ showScreen('tournamentScreen'); }
    else if(role==='owner'){ showScreen('ownerRegisterScreen'); }
    else if(role==='spectator'){ alert('Spectator screen will be added later'); }
}

// ===== Owner Registration =====
function registerOwner(){
    const team=document.getElementById('ownerTeamName').value;
    const budget=parseInt(document.getElementById('ownerBudget').value);
    const tournament=document.getElementById('ownerTournamentSelect').value;
    if(!team || !budget || !tournament){ alert('Please fill all fields'); return; }
    ownerList.push({team,budget,tournament,currentBid:0});
    alert(`Owner ${team} registered for ${tournament}`);
    showScreen('welcomeScreen');
}

// ===== Host Flow =====
function saveTournament(){
    tournamentName=document.getElementById('tournamentName').value||'World Cup';
    totalOwners=parseInt(document.getElementById('totalTeams').value)||2;
    owners=[];
    for(let i=1;i<=totalOwners;i++){ owners.push({name:`Team ${i}`, soldPlayers:[]}); }
    showScreen('addPlayersScreen');
}

function addPlayer(){
    const name=document.getElementById('playerName').value||'Unknown';
    const imageFile=document.getElementById('playerImageFile').files[0];
    const age=document.getElementById('playerAge').value;
    const roleP=document.getElementById('playerRole').value;
    const basePrice=document.getElementById('playerBasePrice').value;
    const reader=new FileReader();
    reader.onload=function(e){
        const img=e.target.result;
        players.push({name,img,age,role:roleP,basePrice,status:'pending'});
        renderPlayerList();
    }
    if(imageFile){ reader.readAsDataURL(imageFile); }
    else{ players.push({name,img:'https://via.placeholder.com/50',age,role:roleP,basePrice,status:'pending'}); renderPlayerList(); }
    document.getElementById('playerName').value=''; document.getElementById('playerImageFile').value='';
    document.getElementById('playerAge').value=''; document.getElementById('playerRole').value=''; document.getElementById('playerBasePrice').value='';
}

function renderPlayerList(){
    const list=document.getElementById('playerList'); list.innerHTML='';
    players.forEach(p=>{
        const div=document.createElement('div'); div.classList.add('player-card');
        div.innerHTML=`<img src="${p.img}"><div>${p.name} ${p.role? '('+p.role+')':''} - ${p.basePrice?('₹'+p.basePrice):''}</div>`;
        list.appendChild(div);
    });
}

// Announce Player
function goToAnnounce(){
    const dropdown=document.getElementById('playerDropdown'); dropdown.innerHTML='';
    players.forEach((p,index)=>{
        const option=document.createElement('option'); option.value=index; option.textContent=p.name;
        dropdown.appendChild(option);
    });
    showScreen('announceScreen'); renderAnnouncedPlayers();
}

function announcePlayer(){
    const index=document.getElementById('playerDropdown').value;
    currentPlayer=players[index];
    currentBid=parseInt(currentPlayer.basePrice)||0;
    if(currentPlayer){
        announcedPlayers.push(currentPlayer);
        players.splice(index,1);
        renderAnnouncedPlayers();
        renderDropdown();
        showOwnerAuction(currentPlayer);
    }
}

function renderDropdown(){
    const dropdown=document.getElementById('playerDropdown'); dropdown.innerHTML='';
    players.forEach((p,index)=>{
        const option=document.createElement('option'); option.value=index; option.textContent=p.name;
        dropdown.appendChild(option);
    });
}

function renderAnnouncedPlayers(){
    const list=document.getElementById('announcedPlayers'); list.innerHTML='';
    announcedPlayers.forEach(p=>{
        const div=document.createElement('div'); div.classList.add('player-card');
        div.innerHTML=`<img src="${p.img}"><div>${p.name} - ${p.status==='pending'?'Pending':p.status}</div>`;
        if(p.status!=='pending') div.classList.add('sold');
        list.appendChild(div);
    });
}

// ===== Owner Auction Screen =====
function showOwnerAuction(player){
    const auctionDiv=document.getElementById('auctionPlayerInfo');
    auctionDiv.innerHTML=`<div class="player-card"><img src="${player.img}"><div>${player.name} - Base Price: ₹${player.basePrice||0} <br> Current Bid: ₹${currentBid}</div></div>`;
    const ownerSection=document.getElementById('ownerBidSection');
    ownerSection.innerHTML='';
    ownerList.filter(o=>o.tournament===tournamentName).forEach((owner,i)=>{
        const card=document.createElement('div'); card.classList.add('owner-auction-card');
        card.innerHTML=`<div>${owner.team} - Budget: ₹${owner.budget}</div><button onclick="ownerBid(${i})">Bid +100,000</button>`;
        ownerSection.appendChild(card);
    });
    showScreen('ownerAuctionScreen');
}

function ownerBid(ownerIndex){
    const owner=ownerList[ownerIndex];
    if(owner.budget>=currentBid+100000){
        currentBid+=100000;
        owner.currentBid=currentBid;
        showOwnerAuction(currentPlayer);
    } else { alert('Not enough budget'); }
}

function showScreen(screenId){
    document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
    document.getElementById(screenId).classList.add('active');
}

function showSoldPopup(message){
    const popup=document.getElementById('soldPopup'); popup.textContent=message;
    popup.style.display='block';
    setTimeout(()=>{popup.style.display='none';},2000);
}
</script>
</body>
</html>






































